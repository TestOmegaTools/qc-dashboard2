import{s as l}from"./supabaseClient-BIyfXb2b.js";document.querySelectorAll(".js-login-button").forEach(e=>{e.addEventListener("click",async()=>{const o=await u();o&&i(o)})});async function u(){try{const{data:e,error:o}=await l.from("user_list").select("*");if(o){console.error("Error fetching data:",o);return}return e}catch(e){console.error("An unexpected error occurred:",e)}}function i(e){const a=document.querySelector(".js-User-Name").value,c=document.querySelector(".js-User-Password").value;let t=!1;console.log(e),e.forEach(r=>{const s=r.username,n=r.password;if(console.log(s),console.log(n),a===s&&c===n){if(t=!0,r.role==="PM"||r.role==="VP"){localStorage.setItem("loggedInUser",JSON.stringify(r.username)),window.location.href="/src/pmPage.html";return}if(r.role==="Admin"){localStorage.setItem("loggedInUser",JSON.stringify(r.userName)),window.location.href="/src/adminPage.html";return}return}}),t||alert("Incorrect username or password.")}
